!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-shortcut-key",[],t);else if("undefined"!=typeof exports)t();else{t(),e.VXETablePluginShortcutKey={}.default}}(this,function(){"use strict";var e;exports.__esModule=!0;var r=require("xe-utils"),i="right,up,left,down".split(","),a="alt,ctrl,shift,meta".split(","),o={},l={},u={},c=(t.prototype.trigger=function(e,t){if(!this.specialKey||t[this.specialKey+"Key"])return exports.handleFuncs[this.funcName](e,t)},t.prototype.emit=function(e,t){if(!this.specialKey||t[this.specialKey+"Key"])return this.kConf.callback(e,t)},t);function t(e,t,n,r){this.realKey=e,this.specialKey=t,this.funcName=n,this.kConf=r}function n(a){return function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,o=n.$grid;if(o&&!0!==i.selected&&-1===["input","textarea"].indexOf(t.target.tagName.toLowerCase())&&function(e){return!e.$table.getActiveRow()}(e)){var l=o.$refs.pager;l&&(t.preventDefault(),l[a](t))}}}function s(o){return function(e,t){var n=e.$table,r=n.getActiveRow(),i=n.getMouseSelecteds();return i?n.moveTabSelected(i,o,t):r&&n.moveTabSelected(r,o,t),!1}}function f(o){return function(e,t){var n=e.$table,r=n.getMouseSelecteds(),i=[0,0,0,0];if(i[o]=1,r)return n.moveSelected(r,i[0],i[1],i[2],i[3],t),!1}}function p(e,t,n,r,i){var o=t[e.toLowerCase()];if(o)return o.some(function(e){return!1===e[n](r,i)})}function d(e,t){var n=function(e){return-1<i.indexOf(e.toLowerCase())?"Arrow"+e:e}(t.key);p(n,u,"emit",e,t)||(p(n,o,"trigger",e,t),p(n,l,"emit",e,t))}function v(e,t,n){var r=function(e){var t,n,r=e.split("+");if(r.forEach(function(e){e=e.toLowerCase().trim(),-1<a.indexOf(e)?t=e:n=e}),!n||2<r.length||2===r.length&&!t)throw new Error("[vxe-table-plugin-shortcut-key] Invalid shortcut key configuration '"+e+"'.");return{specialKey:t,realKey:n}}(t.key),i=r.specialKey,o=r.realKey,l=e[o];if(l||(l=e[o]=[]),l.some(function(e){return e.realKey===o&&e.specialKey===i}))throw new Error("[vxe-table-plugin-shortcut-key] Shortcut key conflict '"+t.key+"'.");l.push(new c(o,i,n,t))}exports.SKey=c,exports.handleFuncs=((e={})["table.edit.actived"]=function(e,t){var n=e.$table,r=n.getMouseSelecteds();if(r)return t.preventDefault(),n.setActiveCell(r.row,r.column.property),!1},e["table.edit.closed"]=function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,o=n.getActiveRow();if(o)return t.preventDefault(),n.clearActived(t),i.selected&&n.$nextTick(function(){return n.setSelectCell(o.row,o.column.property)}),!1},e["table.edit.rightTabMove"]=s(!1),e["table.edit.leftTabMove"]=s(!0),e["table.cell.leftMove"]=f(0),e["table.cell.upMove"]=f(1),e["table.cell.rightMove"]=f(2),e["table.cell.downMove"]=f(3),e["pager.prevPage"]=n("prevPage"),e["pager.nextPage"]=n("nextPage"),e["pager.prevJump"]=n("prevJump"),e["pager.nextJump"]=n("nextJump"),e),exports.VXETablePluginShortcutKey={install:function(e,t){t&&(function(e){r.default.each(e.disabled,function(e){var t=r.default.isString(e)?{key:e}:e;v(u,r.default.assign({callback:function(){return!1}},t))})}(t),function(e){r.default.each(e.setting,function(e,t){var n=r.default.isString(e)?{key:e}:e;exports.handleFuncs[t]||console.warn("[vxe-table-plugin-shortcut-key] '"+t+"' not exist."),v(o,n,t)})}(t),function(e){r.default.each(e.listener,function(e,t){r.default.isFunction(e)||console.warn("[vxe-table-plugin-shortcut-key] '"+t+"' requires the callback function to be set."),v(l,{key:t,callback:e})})}(t),e.interceptor.add("event.keydown",d))}},"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(exports.VXETablePluginShortcutKey),exports.default=exports.VXETablePluginShortcutKey});