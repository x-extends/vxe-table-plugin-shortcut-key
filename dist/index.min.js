!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-shortcut-key",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginShortcutKey=n.exports.default}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e,i){"use strict";var t,n;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginShortcutKey=e.handleFuncs=e.SKey=void 0,i=(t=i)&&t.__esModule?t:{default:t};var o="right,up,left,down".split(","),l="alt,ctrl,shift,meta".split(","),u={},c={},f={},s=function(){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.realKey=e,this.specialKey=t,this.funcName=n,this.kConf=r}var e,t,n;return e=i,(t=[{key:"trigger",value:function(e,t){if((!this.specialKey||t["".concat(this.specialKey,"Key")])&&this.funcName)return y[this.funcName](e,t)}},{key:"emit",value:function(e,t){if((!this.specialKey||t["".concat(this.specialKey,"Key")])&&this.kConf)return this.kConf.callback(e,t)}}])&&a(e.prototype,t),n&&a(e,n),i}();function d(a){return function(e,t){var n=e.$grid,r=e.$table.mouseConfig;if(n&&!0!==(void 0===r?{}:r).selected&&-1===["input","textarea"].indexOf(t.target.tagName.toLowerCase())&&!e.$table.getActiveRecord()){var i=n.$refs.pager;i&&(t.preventDefault(),i[a](t))}}}function p(a){return function(e,t){var n=e.$table,r=n.getSelectedCell(),i=[0,0,0,0];if(i[a]=1,r)return n.moveSelected(r.row,i[0],i[1],i[2],i[3],t),!1}}function v(r){return function(e,t){var n=e.$table;if(n.highlightCurrentRow&&n.getCurrentRecord())return n.moveCurrentRow(!r,r,t),!1}}e.SKey=s;var y=(r(n={},"table.edit.actived",function(e,t){var n=e.$table,r=n.getSelectedCell();if(r)return t.preventDefault(),n.setActiveCell(r.row,r.column.property),!1}),r(n,"table.edit.closed",function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,a=n.getActiveRecord();if(a)return t.preventDefault(),n.clearActived(),i.selected&&n.$nextTick(function(){return n.setSelectCell(a.row,a.column.property)}),!1}),r(n,"table.cell.leftMove",p(0)),r(n,"table.cell.upMove",p(1)),r(n,"table.cell.rightMove",p(2)),r(n,"table.cell.downMove",p(3)),r(n,"table.row.current.topMove",v(!1)),r(n,"table.row.current.downMove",v(!0)),r(n,"pager.prevPage",d("prevPage")),r(n,"pager.nextPage",d("nextPage")),r(n,"pager.prevJump",d("prevJump")),r(n,"pager.nextJump",d("nextJump")),n);function g(e,t,n,r,i){var a=t[e.toLowerCase()];if(a)return!a.some(function(e){return!1===e[n](r,i)})}function h(e,t){var n,r=(n=t.key,-1<o.indexOf(n.toLowerCase())?"Arrow".concat(n):n);if(!g(r,f,"emit",e,t)){if(!1===g(r,u,"trigger",e,t))return!1;g(r,c,"emit",e,t)}}function b(e,t,n){var r=function(e){var t="",n="",r=e.split("+");if(r.forEach(function(e){e=e.toLowerCase().trim(),-1<l.indexOf(e)?t=e:n=e}),!n||2<r.length||2===r.length&&!t)throw new Error("[vxe-table-plugin-shortcut-key] Invalid shortcut key configuration '".concat(e,"'."));return{realKey:n,specialKey:t}}(t.key),i=r.realKey,a=r.specialKey,o=e[i];if((o=o||(e[i]=[])).some(function(e){return e.realKey===i&&e.specialKey===a}))throw new Error("[vxe-table-plugin-shortcut-key] Shortcut key conflict '".concat(t.key,"'."));o.push(new s(i,a,n,t))}function w(e){var t,n,r;e&&(r=e,i.default.each(r.disabled,function(e){var t=i.default.isString(e)?{key:e}:e;b(f,i.default.assign({callback:function(){return!1}},t))}),n=e,i.default.each(n.setting,function(e,t){var n=i.default.isString(e)?{key:e}:e;y[t]||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' not exist.")),b(u,n,t)}),t=e,i.default.each(t.listener,function(e,t){i.default.isFunction(e)||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' requires the callback function to be set.")),b(c,{key:t,callback:e})}))}e.handleFuncs=y;var k={setup:w,install:function(e,t){t&&w(t),e.interceptor.add("event.keydown",h)}};e.VXETablePluginShortcutKey=k,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(k);var m=k;e.default=m});