!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-shortcut-key",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginShortcutKey=n.exports.default}}(this,function(e,r){"use strict";var t,n;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginShortcutKey=e.handleFuncs=e.SKey=void 0,r=(t=r)&&t.__esModule?t:{default:t};var o="right,up,left,down".split(","),l="alt,ctrl,shift,meta".split(","),u={},c={},f={},s=function(){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.realKey=e,this.specialKey=t,this.funcName=n,this.kConf=r}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"trigger",value:function(e,t){if(!this.specialKey||t["".concat(this.specialKey,"Key")])return y[this.funcName](e,t)}},{key:"emit",value:function(e,t){if(!this.specialKey||t["".concat(this.specialKey,"Key")])return this.kConf.callback(e,t)}}]),i}();function d(l){return function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,a=n.$grid;if(a&&!0!==i.selected&&-1===["input","textarea"].indexOf(t.target.tagName.toLowerCase())&&function(e){return!e.$table.getActiveRow()}(e)){var o=a.$refs.pager;o&&(t.preventDefault(),o[l](t))}}}function v(a){return function(e,t){var n=e.$table,r=n.getActiveRow(),i=n.getMouseSelecteds();return i?n.moveTabSelected(i,a,t):r&&n.moveTabSelected(r,a,t),!1}}function p(a){return function(e,t){var n=e.$table,r=n.getMouseSelecteds(),i=[0,0,0,0];if(i[a]=1,r)return n.moveSelected(r,i[0],i[1],i[2],i[3],t),!1}}e.SKey=s;var y=(i(n={},"table.edit.actived",function(e,t){var n=e.$table,r=n.getMouseSelecteds();if(r)return t.preventDefault(),n.setActiveCell(r.row,r.column.property),!1}),i(n,"table.edit.closed",function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,a=n.getActiveRow();if(a)return t.preventDefault(),n.clearActived(t),i.selected&&n.$nextTick(function(){return n.setSelectCell(a.row,a.column.property)}),!1}),i(n,"table.edit.rightTabMove",v(!1)),i(n,"table.edit.leftTabMove",v(!0)),i(n,"table.cell.leftMove",p(0)),i(n,"table.cell.upMove",p(1)),i(n,"table.cell.rightMove",p(2)),i(n,"table.cell.downMove",p(3)),i(n,"pager.prevPage",d("prevPage")),i(n,"pager.nextPage",d("nextPage")),i(n,"pager.prevJump",d("prevJump")),i(n,"pager.nextJump",d("nextJump")),n);function g(e,t,n,r,i){var a=t[e.toLowerCase()];if(a)return a.some(function(e){return!1===e[n](r,i)})}function b(e,t){var n=function(e){return-1<o.indexOf(e.toLowerCase())?"Arrow".concat(e):e}(t.key);g(n,f,"emit",e,t)||(g(n,u,"trigger",e,t),g(n,c,"emit",e,t))}function h(e,t,n){var r=function(e){var t,n,r=e.split("+");if(r.forEach(function(e){e=e.toLowerCase().trim(),-1<l.indexOf(e)?t=e:n=e}),!n||2<r.length||2===r.length&&!t)throw new Error("[vxe-table-plugin-shortcut-key] Invalid shortcut key configuration '".concat(e,"'."));return{specialKey:t,realKey:n}}(t.key),i=r.specialKey,a=r.realKey,o=e[a];if((o=o||(e[a]=[])).some(function(e){return e.realKey===a&&e.specialKey===i}))throw new Error("[vxe-table-plugin-shortcut-key] Shortcut key conflict '".concat(t.key,"'."));o.push(new s(a,i,n,t))}e.handleFuncs=y;var w={install:function(e,t){t&&(function(e){r.default.each(e.disabled,function(e){var t=r.default.isString(e)?{key:e}:e;h(f,r.default.assign({callback:function(){return!1}},t))})}(t),function(e){r.default.each(e.setting,function(e,t){var n=r.default.isString(e)?{key:e}:e;y[t]||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' not exist.")),h(u,n,t)})}(t),function(e){r.default.each(e.listener,function(e,t){r.default.isFunction(e)||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' requires the callback function to be set.")),h(c,{key:t,callback:e})})}(t),e.interceptor.add("event.keydown",b))}};e.VXETablePluginShortcutKey=w,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(w);var m=w;e.default=m});