!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-shortcut-key",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginShortcutKey=n.exports.default}}(this,function(e,r){"use strict";var t;function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginShortcutKey=void 0,r=(t=r)&&t.__esModule?t:{default:t};var a="right,up,left,down".split(","),l="alt,ctrl,shift,meta".split(","),o={},u={},c={},f={37:"ArrowRight",38:"ArrowUp",39:"ArrowLeft",40:"ArrowDown"},s=function(){function a(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.realKey=e,this.specialKey=t,this.funcName=n,this.options=r}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(a,[{key:"trigger",value:function(e,t){if(!this.specialKey||t["".concat(this.specialKey,"Key")])return v[this.funcName](e,t)}},{key:"emit",value:function(e,t){if(!this.specialKey||t["".concat(this.specialKey,"Key")])return this.options.callback(e,t)}}]),a}();function n(l){return function(e,t){var n=e.$table,r=n.mouseConfig,a=void 0===r?{}:r,i=n.$grid;if(i&&!0!==a.selected&&-1===["input","textarea"].indexOf(t.target.tagName.toLowerCase())&&function(e){return!e.$table.getActiveRow()}(e)){var o=i.$refs.pager;o&&(t.preventDefault(),o[l](t))}}}function p(i){return function(e,t){var n=e.$table,r=n.getActiveRow(),a=n.getMouseSelecteds();return a?n.moveTabSelected(a,i,t):r&&n.moveTabSelected(r,i,t),!1}}function d(i){return function(e,t){var n=e.$table,r=n.getMouseSelecteds(),a=[0,0,0,0];if(a[i]=1,r)return n.moveSelected(r,a[0],a[1],a[2],a[3],t),!1}}var v={"table.edit.actived":function(e,t){var n=e.$table,r=n.getMouseSelecteds();if(r)return t.preventDefault(),n.setActiveCell(r.row,r.column.property),!1},"table.edit.closed":function(e,t){var n=e.$table,r=n.mouseConfig,a=void 0===r?{}:r,i=n.getActiveRow();if(i)return t.preventDefault(),n.clearActived(t),a.selected&&n.$nextTick(function(){return n.setSelectCell(i.row,i.column.property)}),!1},"table.edit.rightTabMove":p(0),"table.edit.leftTabMove":p(1),"table.cell.leftMove":d(0),"table.cell.upMove":d(1),"table.cell.rightMove":d(2),"table.cell.downMove":d(3),"pager.prevPage":n("prevPage"),"pager.nextPage":n("nextPage"),"pager.prevJump":n("prevJump"),"pager.nextJump":n("nextJump")};function y(e,t,n,r,a){var i=t[e.toLowerCase()];if(i)return i.some(function(e){return!1===e[n](r,a)})}function g(e,t){var n=function(e){return-1<a.indexOf(e.toLowerCase())?"Arrow".concat(e):e}(t.key)||f[t.keyCode];y(n,c,"emit",e,t)||(y(n,o,"trigger",e,t),y(n,u,"emit",e,t))}function b(e,t,n){var r=function(e){var t,n,r=e.split("+");if(r.forEach(function(e){e=e.toLowerCase().trim(),-1<l.indexOf(e)?t=e:n=e}),!n||2<r.length||2===r.length&&!t)throw new Error("[vxe-table-plugin-shortcut-key] Invalid shortcut key configuration '".concat(e,"'."));return{specialKey:t,realKey:n}}(t.keyMap),a=r.specialKey,i=r.realKey,o=e[i];if(o||(o=e[i]=[]),o.some(function(e){return e.realKey===i&&e.specialKey===a}))throw new Error("[vxe-table-plugin-shortcut-key] Shortcut key conflict '".concat(t.keyMap,"'."));o.push(new s(i,a,n,t))}function h(e){return r.default.isString(e)?{keyMap:e}:r.default.assign({keyMap:e.key},e)}var w={install:function(e,t){t&&(function(e){r.default.each(e.disabled,function(e){function t(){return!1}var n=r.default.isString(e)?{keyMap:e,callback:t}:r.default.assign({keyMap:e.key,callback:t},e);r.default.isFunction(n.callback)||console.warn("[vxe-table-plugin-shortcut-key] The '".concat(n.keyMap,"' must be a function.")),b(c,h(e))})}(t),function(e){r.default.each(e.setting,function(e,t){v[t]||console.warn("[vxe-table-plugin-shortcut-key] The '".concat(t,"' not exist.")),b(o,h(e),t)})}(t),function(e){r.default.each(e.listener,function(e,t){r.default.isFunction(e)||console.warn("[vxe-table-plugin-shortcut-key] The '".concat(t,"' must be a function.")),b(u,h({key:t,callback:e}))})}(t),e.interceptor.add("event.keydown",g))}};e.VXETablePluginShortcutKey=w,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(w);var k=w;e.default=k});