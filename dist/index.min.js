!function(e,t){if("function"==typeof define&&define.amd)define("vxe-table-plugin-shortcut-key",["exports","xe-utils"],t);else if("undefined"!=typeof exports)t(exports,require("xe-utils"));else{var n={exports:{}};t(n.exports,e.XEUtils),e.VXETablePluginShortcutKey=n.exports.default}}(this,function(e,r){"use strict";var t,n;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VXETablePluginShortcutKey=e.handleFuncs=e.SKey=void 0,r=(t=r)&&t.__esModule?t:{default:t};var a="right,up,left,down".split(","),u="alt,ctrl,shift,meta".split(","),l={},c={},f={},s=function(){function i(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.realKey=e,this.specialKey=t,this.funcName=n,this.kConf=r}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(i,[{key:"trigger",value:function(e,t){if((!this.specialKey||t["".concat(this.specialKey,"Key")])&&this.funcName)return b[this.funcName](e,t)}},{key:"emit",value:function(e,t){if((!this.specialKey||t["".concat(this.specialKey,"Key")])&&this.kConf)return this.kConf.callback(e,t)}}]),i}();function v(u){return function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,o=n.$grid;if(o&&!0!==i.selected&&-1===["input","textarea"].indexOf(t.target.tagName.toLowerCase())&&function(e){return!e.$table.getActiveRow()}(e)){var a=o.$refs.pager;a&&(t.preventDefault(),a[u](t))}}}function d(o){return function(e,t){var n=e.$table,r=n.getActiveRow(),i=n.getMouseSelecteds();return i?n.moveTabSelected(i,o,t):r&&n.moveTabSelected(r,o,t),!1}}function p(o){return function(e,t){var n=e.$table,r=n.getMouseSelecteds(),i=[0,0,0,0];if(i[o]=1,r)return n.moveSelected(r,i[0],i[1],i[2],i[3],t),!1}}function g(r){return function(e,t){var n=e.$table;if(n.highlightCurrentRow&&n.getCurrentRow())return n.moveCurrentRow(!r,r,t),!1}}e.SKey=s;var b=(i(n={},"table.edit.actived",function(e,t){var n=e.$table,r=n.getMouseSelecteds();if(r)return t.preventDefault(),n.setActiveCell(r.row,r.column.property),!1}),i(n,"table.edit.closed",function(e,t){var n=e.$table,r=n.mouseConfig,i=void 0===r?{}:r,o=n.getActiveRow();if(o)return t.preventDefault(),n.clearActived(t),i.selected&&n.$nextTick(function(){return n.setSelectCell(o.row,o.column.property)}),!1}),i(n,"table.edit.rightTabMove",d(!1)),i(n,"table.edit.leftTabMove",d(!0)),i(n,"table.cell.leftMove",p(0)),i(n,"table.cell.upMove",p(1)),i(n,"table.cell.rightMove",p(2)),i(n,"table.cell.downMove",p(3)),i(n,"table.row.current.topMove",g(!1)),i(n,"table.row.current.downMove",g(!0)),i(n,"pager.prevPage",v("prevPage")),i(n,"pager.nextPage",v("nextPage")),i(n,"pager.prevJump",v("prevJump")),i(n,"pager.nextJump",v("nextJump")),n);function y(e,t,n,r,i){var o=t[e.toLowerCase()];if(o)return!o.some(function(e){return!1===e[n](r,i)})}function h(e,t){var n=function(e){return-1<a.indexOf(e.toLowerCase())?"Arrow".concat(e):e}(t.key);if(!y(n,f,"emit",e,t)){if(!1===y(n,l,"trigger",e,t))return!1;y(n,c,"emit",e,t)}}function w(e,t,n){var r=function(e){var t="",n="",r=e.split("+");if(r.forEach(function(e){e=e.toLowerCase().trim(),-1<u.indexOf(e)?t=e:n=e}),!n||2<r.length||2===r.length&&!t)throw new Error("[vxe-table-plugin-shortcut-key] Invalid shortcut key configuration '".concat(e,"'."));return{realKey:n,specialKey:t}}(t.key),i=r.realKey,o=r.specialKey,a=e[i];if((a=a||(e[i]=[])).some(function(e){return e.realKey===i&&e.specialKey===o}))throw new Error("[vxe-table-plugin-shortcut-key] Shortcut key conflict '".concat(t.key,"'."));a.push(new s(i,o,n,t))}function m(e){e&&(function(e){r.default.each(e.disabled,function(e){var t=r.default.isString(e)?{key:e}:e;w(f,r.default.assign({callback:function(){return!1}},t))})}(e),function(e){r.default.each(e.setting,function(e,t){var n=r.default.isString(e)?{key:e}:e;b[t]||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' not exist.")),w(l,n,t)})}(e),function(e){r.default.each(e.listener,function(e,t){r.default.isFunction(e)||console.warn("[vxe-table-plugin-shortcut-key] '".concat(t,"' requires the callback function to be set.")),w(c,{key:t,callback:e})})}(e))}e.handleFuncs=b;var k={setup:m,install:function(e,t){t&&(m(t),e.interceptor.add("event.keydown",h))}};e.VXETablePluginShortcutKey=k,"undefined"!=typeof window&&window.VXETable&&window.VXETable.use(k);var x=k;e.default=x});